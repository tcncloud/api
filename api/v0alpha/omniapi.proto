syntax = "proto3";

package api.v0alpha;

import "annotations/authz.proto";
import "api/commons/lms.proto";
import "api/commons/omnichannel.proto";
import "api/commons/types.proto";
import "api/commons/wfm.proto";
import "google/api/annotations.proto";
import "google/protobuf/field_mask.proto";
import "google/protobuf/timestamp.proto";

// Service for interacting with TCN's Omni API system.
// Accessing all of the methods require an authenticated user with the correct
// permissions.
service OmniApi {
  // archive a campaign
  rpc ArchiveCampaign(ArchiveCampaignReq) returns (ArchiveCampaignRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/archivecampaign";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Create Omni Campaign defined by CreateOmniCampaign message
  // for the name, skill, Hours of operations, and description.
  // the method will return newly created OmniCampaign for this client
  // Required Permission:
  //      OMNI_BOSS
  rpc CreateCampaign(CreateCampaignReq) returns (api.commons.OmniCampaign) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createcampaign";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  //Get campaign defined by GetChatCampaignById.
  rpc GetCampaignById(GetCampaignByIdReq) returns (api.commons.OmniCampaign) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getcampaignbyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        },
        {
          permissions: [PERMISSION_INTEGRATIONS_VIEW]
        }
      ]
    };
  }

  // pause a campaign
  rpc PauseCampaign(PauseCampaignReq) returns (PauseCampaignRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/pausecampaign";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // resume a campaign
  rpc ResumeCampaign(ResumeCampaignReq) returns (ResumeCampaignRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/resumecampaign";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Updates a campaign
  // Required permissions:
  //    OMNI_BOSS
  rpc UpdateCampaign(UpdateCampaignReq) returns (UpdateCampaignRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatecampaign";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // update campaign pacing - speed up/slow down a campaign
  rpc UpdateCampaignPacingSpeed(UpdateCampaignPacingSpeedReq) returns (UpdateCampaignPacingSpeedRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatecampaignpacingspeed";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Send a chat message
  rpc SendOmniMessage(SendOmniMessageReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/sendomnimessage";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Send a chat message
  rpc ManagerSendOmniMessage(SendOmniMessageReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/managersendomnimessage";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Create a disposition
  rpc CreateDisposition(CreateDispositionReq) returns (CreateDispositionRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createdisposition";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // DeleteDisposition - delete an existing disposition
  rpc DeleteDisposition(DeleteDispositionReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deletedisposition";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // ListDispositions - lists all dispositions
  rpc ListDispositions(ListDispositionsReq) returns (ListDispositionsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listdispositions";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // UpdateDisposition - update an existing disposition
  rpc UpdateDisposition(UpdateDispositionReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatedisposition";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // ListCustomUnsubscribeLinks - retrieves all the custom unsubscribe links
  rpc ListCustomUnsubscribeLinks(api.commons.Empty) returns (ListCustomUnsubscribeLinksRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listcustomunsubscribelinks";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // CreateUnsubscribeLink - creates a new unsubscribe link
  rpc CreateCustomUnsubscribeLink(api.commons.OmniCustomUnsubscribeLink) returns (CreateCustomUnsubscribeLinkRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createcustomunsubscribelink";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // UpdateCustomUnsubscribeLink - update custom unsubscribe link details
  rpc UpdateCustomUnsubscribeLink(UpdateCustomUnsubscribeLinkReq) returns (UpdateCustomUnsubscribeLinkRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatecustomunsubscribelink";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // DeleteCustomUnsubscribeLink - deletes custom unsubscribe link details
  rpc DeleteCustomUnsubscribeLink(DeleteCustomUnsubscribeLinkReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deletecustomunsubscribelink";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // List campaigns defined by ListCampaignsReq.
  // The method will return a ListCampaignsReq entity that will contain
  // all the campaigns within the specified filter.
  rpc ListCampaigns(ListCampaignsReq) returns (ListCampaignsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listcampaigns";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_INTEGRATIONS_VIEW]
        },
        {
          permissions: [PERMISSION_MANUAL_CONVERSATION]
        },
        {
          permissions: [PERMISSION_TICKETS_APP]
        }
      ]
    };
  }

  // Get a stream of new conversation message for a given conversation. Used
  // only for managers. It is not for customers.
  rpc ManagerListMessages(ManagerListMessagesReq) returns (stream commons.OmniMessage) {
    option (google.api.http).post = "/api/v0alpha/omniapi/managerlistmessages";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Get a stream of conversation message for a given conversation. Used
  // only for agents/users. It is not for customers.
  rpc ListMessages(ListMessagesReq) returns (stream commons.OmniMessage) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listmessages";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // lists all conversation and assigned users for a given date range.
  // Required permissions:
  //    OMNI_BOSS
  rpc ManagerListConversations(ListConversationsReq) returns (ListConversationsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/managerlistconversations";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // ListContactLists - retrieves all the contact lists
  rpc ListContactLists(ListContactListsReq) returns (ListContactListsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listcontactlists";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // GetAvailableHeaders - retrieves all the available headers that could be present on a contact list
  // Required permissions:
  //    OMNI_BOSS
  rpc GetAvailableHeaders(GetAvailableHeadersReq) returns (GetAvailableHeadersRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getavailableheaders";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // GetOmniExchangeElements - retrieves all omni exchange elements from lms service
  rpc GetOmniExchangeElements(GetOmniExchangeElementsRequest) returns (GetOmniExchangeElementsResult) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getomniexchangeelements";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // GetFieldsForElement - takes an omni exchange element and returns fields for it
  rpc GetFieldsForElement(GetFieldsForElementRequest) returns (GetFieldsForElementResult) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getfieldsforelement";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // ApproveTask approves a task.
  rpc ApproveTask(ApproveTaskRequest) returns (ApproveTaskResponse) {
    option (google.api.http).post = "/api/v0alpha/omniapi/approvetask";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // GetNextQueuedTask retrieves the next queued task for the agent.
  rpc GetNextQueuedTask(GetNextQueuedTaskRequest) returns (GetNextQueuedTaskResponse) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getnextqueuedtask";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // GetTask - retrieves a task using the provided criteria
  // Required permissions:
  //    OMNI_AGENT
  rpc GetTask(GetTaskReq) returns (api.commons.OmniTask) {
    option (google.api.http).post = "/api/v0alpha/omniapi/gettask";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // ListTasks - retrieves tasks using the provided criteria
  // Required permissions:
  //    OMNI_BOSS
  rpc ListTasks(ListTasksReq) returns (ListTasksRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listtasks";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // RejectTask rejects a task.
  rpc RejectTask(RejectTaskRequest) returns (RejectTaskResponse) {
    option (google.api.http).post = "/api/v0alpha/omniapi/rejecttask";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // RequeueTask requeues a task.
  rpc RequeueTask(RequeueTaskRequest) returns (RequeueTaskResponse) {
    option (google.api.http).post = "/api/v0alpha/omniapi/requeuetask";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // CreateConnectedInbox - create a new connected inbox
  // Required permissions:
  //    OMNI_BOSS
  rpc CreateConnectedInbox(api.commons.ConnectedInbox) returns (CreateConnectedInboxRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createconnectedinbox";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // DeleteConnectedInboxBySid - deletes a connected inbox given it's identifier
  // Required permissions:
  //    OMNI_BOSS
  rpc DeleteConnectedInboxBySid(DeleteConnectedInboxBySidReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deleteconnectedinboxbysid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // GetConnectedInboxBySid - retrieves a connected inbox given it's identifier
  // Required permissions:
  //    OMNI_BOSS
  rpc GetConnectedInboxBySid(GetConnectedInboxBySidReq) returns (api.commons.ConnectedInbox) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getconnectedinboxbysid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  //Perform sendgrid account check to make sure all the account settings are valid defined by SendgridAccountByClientReq message.
  // The method will return a SendgridAccountByClientRes message/entity that will
  // contain the result true/false verifying account settings with sendgrid for this client
  // Required permissions:
  //      OMNI_BOSS
  rpc PerformSendgridAccountChecks(SendgridAccountByClientReq) returns (SendgridAccountByClientRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/performsendgridaccountchecks";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // ListConnectedInboxes - retrieves all the connected inboxes for the organization
  // Required permissions:
  //    OMNI_BOSS
  rpc ListConnectedInboxes(ListConnectedInboxesReq) returns (ListConnectedInboxesRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listconnectedinboxes";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // TestConnectedInbox - check if connected inbox login works for a specified email_address,
  // username, password, server_name, and server_port (other fields from ConnectedInbox are ignored).
  // Required permissions:
  //    OMNI_BOSS
  rpc TestConnectedInbox(api.commons.ConnectedInbox) returns (TestConnectedInboxRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/testconnectedinbox";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // UpdateConnectedInbox - update a connected inbox
  // Required permissions:
  //    OMNI_BOSS
  rpc UpdateConnectedInbox(UpdateConnectedInboxReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updateconnectedinbox";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // CreateVerifiedEmail.  this will create a new verified email
  // Required permissions
  //      OMNI_BOSS
  rpc CreateVerifiedEmail(api.commons.VerifiedEmail) returns (CreateVerifiedEmailRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createverifiedemail";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Delete verify email record based on verified email id defined by
  // DeleteVerifiedEmailReq for the specified client.
  // This method will return a DeleteVerifiedEmailRes message/entity.
  // DeleteVerifiedEmail - deletes a verified email record using the given identifier
  // Required permissions
  //      OMNI_BOSS
  rpc DeleteVerifiedEmail(DeleteVerifiedEmailReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deleteverifiedemail";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Get the verified email details based on verified email id defined by
  // GetVerifiedEmailByIdReq for the specified client.
  // This method will return an OmniVerifiedEmail message/entity.
  // Required permissions
  //      OMNI_BOSS
  rpc GetVerifiedEmailBySid(GetVerifiedEmailBySidReq) returns (api.commons.VerifiedEmail) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getverifiedemailbyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // List all the verified emails and their details defined by
  // ListVerifiedEmailsReq for the specified client.
  // This method will return a ListVerifiedEmailsRes message/entity.
  // Required permissions
  //      OMNI_BOSS
  rpc ListVerifiedEmails(ListVerifiedEmailsReq) returns (ListVerifiedEmailsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listverifiedemails";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Resend verify email record based on verified email id defined by
  // ResendVerifiedEmailReq for the specified client.
  // This method will return a ResendVerifiedEmailRes message/entity.
  // Required permissions
  //      OMNI_BOSS
  rpc ResendVerifiedEmail(ResendVerifiedEmailReq) returns (ResendVerifiedEmailRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/resendverifiedemail";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Updates verified email description
  rpc UpdateVerifiedEmail(UpdateVerifiedEmailReq) returns (api.commons.Empty) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updateverifiedemail";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // GetPendingGoogleXOAuth2Data - retrieves the pending oauth data required to finish creating a connected inbox
  // Required permissions:
  //    OMNI_BOSS
  rpc GetPendingGoogleXOAuth2Data(GetPendingGoogleXOAuth2DataReq) returns (GetPendingGoogleXOAuth2DataRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getpendinggooglexoauth2data";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Send email notification defined by SendEmailNotificationReq message for the specified
  // subject, message and array of to email addresses.
  // The method will return a stream of SendEmailNotificationRes messages
  // containing result true/false after notified by email for the client_sid.
  // Required permissions:
  //      OMNI_BOSS
  rpc SendEmailNotification(SendEmailNotificationReq) returns (SendEmailNotificationRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/emailapi/sendemailnotification";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Send an email to our feedback system. The users email will be populated as the from address to open an email thread with our support.
  rpc SendFeedbackEmail(SendFeedbackEmailReq) returns (SendFeedbackEmailRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/sendfeedbackemail";
    option (google.api.http).body = "*";
    option (annotations.authz) = {no_permissions: true};
  }

  // GetOmniAttachment - retrieves the omni attachment details based on the request
  // Required permissions:
  //    OMNI_BOSS
  rpc GetOmniAttachment(GetOmniAttachmentReq) returns (api.commons.OmniAttachment) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getomniattachment";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Create a task with a given contat list .
  rpc CreateTasks(CreateTasksReq) returns (CreateTasksRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createtasks";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // CreateSignature - creates a new message signature
  // Required permissions:
  //    OMNI_BOSS
  rpc CreateSignature(CreateSignatureReq) returns (CreateSignatureRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createsignature";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // DeleteSignature - deletes a message signature
  // Required permissions:
  //    OMNI_BOSS
  rpc DeleteSignature(DeleteSignatureReq) returns (DeleteSignatureRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deletesignature";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // ListSignatures - retrieves the signatures created by the organization
  // Required permissions:
  //    OMNI_BOSS
  rpc ListSignatures(ListSignaturesReq) returns (ListSignaturesRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listsignatures";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // UpdateSignature - updates a message signature
  // Required permissions:
  //    OMNI_BOSS
  rpc UpdateSignature(UpdateSignatureReq) returns (UpdateSignatureRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatesignature";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // SuggestResponse
  rpc SuggestResponse(SuggestResponseReq) returns (SuggestResponseRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/suggestresponse";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Create/Record project defined by CreateProjectReq message for a specified
  // name, description and status.
  // The method will return a Project message/entity that will
  // contain the newly created project_id value for this client
  // Required permissions:
  //      OMNI_BOSS
  rpc CreateProject(CreateProjectReq) returns (CreateProjectRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createproject";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // list projects for the current org
  // The method will return a list of Project messages/entities
  // Required permissions:
  //      OMNI_BOSS
  rpc ListProjects(ListProjectsReq) returns (ListProjectsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listprojects";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_MANUAL_CONVERSATION]
        }
      ]
    };
  }

  // Update project defined by EditProjectByIdReq message for a specified
  // project id.
  // The method will return a Project message/entity that will
  // contain the updated details for the project_id
  // Required permissions:
  //      OMNI_BOSS
  rpc EditProjectById(EditProjectByIdReq) returns (EditProjectByIdRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/editprojectbyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Closes project defined by CloseProjectByIdReq message for a specified
  // project id.
  // The method will stop all child campaigns and return a an empty response
  // if successful
  // Required permissions:
  //      OMNI_BOSS
  rpc CloseProjectById(CloseProjectByIdReq) returns (CloseProjectByIdRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/closeprojectbyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Get project details defined by GetProjectByIdReq message for a specified
  // project id.
  // The method will return a GetProjectByIdRes message/entity that will
  // contain all the project details for the project_id
  // Required permissions:
  //      OMNI_BOSS
  rpc GetProjectById(GetProjectByIdReq) returns (Project) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getprojectbyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_TICKETS_APP]
        }
      ]
    };
  }

  // Create/Record canned message defined by CreateCannedMessageReq message for a specified
  // name, description and message_body.
  // The method will return a CannedMessage message/entity that will
  // contain the newly created canned message details for this client
  // Required permissions:
  //      OMNI_BOSS
  rpc CreateCannedMessage(CreateCannedMessageReq) returns (CannedMessage) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createcannedmessage";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // list canned messages for the current org
  // The method will return a list of canned messages/entities
  // Required permissions:
  //      OMNI_BOSS
  rpc ListCannedMessages(ListCannedMessagesReq) returns (ListCannedMessagesRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listcannedmessages";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Update canned message defined by UpdateCannedMessageReq message for a specified
  // name, description and message_body.
  // The method will return a CannedMessage message/entity that will
  // contain the updated canned message details for this client
  // Required permissions:
  //      OMNI_BOSS
  rpc UpdateCannedMessage(UpdateCannedMessageReq) returns (CannedMessage) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatecannedmessage";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Get canned message details for the canned_message_id
  // The method will return an canned message/entity
  // Required permissions:
  //      OMNI_BOSS
  rpc GetCannedMessageById(GetCannedMessageByIdReq) returns (CannedMessageWithGroup) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getcannedmessagebyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Delete canned message details for the canned_message_id
  // The method will delete an canned message/entity
  // Required permissions:
  //      OMNI_BOSS
  rpc DeleteCannedMessageById(DeleteCannedMessageByIdReq) returns (DeleteCannedMessageByIdRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deletecannedmessagebyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Create/Record canned message group defined by CreateCannedMessageGroup Req message for a specified
  // name and description.
  // The method will return a CannedMessageGroup message/entity that will
  // contain the newly created canned message group details for this client
  // Required permissions:
  //      OMNI_BOSS
  rpc CreateCannedMessageGroup(CreateCannedMessageGroupReq) returns (CannedMessageGroup) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createcannedmessagegroup";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // list canned message groups for the current org
  // The method will return a list of canned message groups/entities
  // Required permissions:
  //      OMNI_BOSS
  rpc ListCannedMessageGroups(ListCannedMessageGroupsReq) returns (ListCannedMessageGroupsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listcannedmessagegroups";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Update canned message group defined by UpdateCannedMessageGroupReq message for a specified
  // name and description.
  // Required permissions:
  //      OMNI_BOSS
  rpc UpdateCannedMessageGroup(UpdateCannedMessageGroupReq) returns (UpdateCannedMessageGroupRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatecannedmessagegroup";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Delete canned message group and all the related messages for the canned_message_group_id
  // The method will delete an canned message group/entity
  // Required permissions:
  //      OMNI_BOSS
  rpc DeleteCannedMessageGroup(DeleteCannedMessageGroupReq) returns (DeleteCannedMessageGroupRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/deletecannedmessagegroup";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // list canned messages for the group
  // The method will return a list of canned messages/entities
  // Required permissions:
  //      OMNI_BOSS
  rpc ListCannedMessagesByGroupId(ListCannedMessagesByGroupIdReq) returns (ListCannedMessagesByGroupIdRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listcannedmessagesbygroupid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Get canned message group details for the canned_message_group_id
  // The method will return an canned message group/entity
  // Required permissions:
  //      OMNI_BOSS
  rpc GetCannedMessageGroupById(GetCannedMessageGroupByIdReq) returns (CannedMessageGroup) {
    option (google.api.http).post = "/api/v0alpha/omniapi/getcannedmessagegroupbyid";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Returns a list of skills filtered by types given on
  // the request message field type_filter. Leaving the type_filter
  // field empty will return all types of skills.
  rpc ListUserSkills(ListUserSkillsReq) returns (ListUserSkillsRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listuserskills";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // List whatsapp numbers for the client
  rpc ListWhatsAppNumbers(v0alpha.ListWhatsAppNumbersReq) returns (v0alpha.ListWhatsAppNumbersRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/listwhatsappnumbers";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        },
        {
          permissions: [PERMISSION_AGENT]
        }
      ]
    };
  }

  // Create whatsapp number for the client
  rpc CreateWhatsAppNumber(v0alpha.CreateWhatsAppNumberRequest) returns (v0alpha.CreateWhatsAppNumberResponse) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createwhatsappnumber";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // Update whatsapp number for the client
  rpc UpdateWhatsAppNumber(v0alpha.UpdateWhatsAppNumberRequest) returns (v0alpha.UpdateWhatsAppNumberResponse) {
    option (google.api.http).post = "/api/v0alpha/omniapi/updatewhatsappnumber";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_OMNI_BOSS]
        }
      ]
    };
  }

  // CreateManualTask - Creates a manual task.
  // Required permissions:
  // AGENT
  rpc CreateManualTask(CreateManualTaskReq) returns (CreateManualTaskRes) {
    option (google.api.http).post = "/api/v0alpha/omniapi/createmanualtask";
    option (google.api.http).body = "*";
    option (annotations.authz) = {
      sets: [
        {
          permissions: [PERMISSION_AGENT]
        },
        {
          permissions: [PERMISSION_TICKETS_APP]
        }
      ]
    };
  }
}

message SuggestResponseReq {
  string conversation_id = 1;
}

message SuggestResponseRes {
  string suggested_response = 1;
}

// CreateCampaignReq - request to create an omni campaign
message CreateCampaignReq {
  // the campaign to create
  api.commons.OmniCampaign campaign = 1;
  // the modules to create on the campaign
  repeated CampaignModule modules = 2;

  // CampaignModule - information required to create an omni campaign module
  message CampaignModule {
    // the module to create
    api.commons.OmniCampaignModule module = 1;
    // the data source for outbound contacts (only applicable if outbound module)
    oneof data_source {
      ContactListsDataSource omni_contact_list = 100; // TODO: make plural
    }
  }
}

// ContactListsDataSource - data source for getting contacts from one or more contact lists
message ContactListsDataSource {
  // the contact lists to retrieve contacts from TODO: rename contact_lists
  repeated ContactListDataSource contact_lists_data_source = 1;
}

// ContactListDataSource  - contains information to retrieve data from a contact list
message ContactListDataSource {
  // the contact list identifier
  int64 contact_list_sid = 1 [jstype = JS_STRING];
}

// ListCampaignsReq - request to list all campaigns using a given filter
message ListCampaignsReq {
  // the statuses to select by when listing campaigns (if empty, selects all)
  repeated api.commons.OmniCampaignStatus statuses = 1;
  // field mask for selecting extra campaign module details (if empty, does not select any details)
  google.protobuf.FieldMask field_mask = 2;

  // the filter to select by
  oneof filter {
    ByIds by_ids = 100;
    ByProject by_project = 101;
    ByTime by_time = 102;
    ByUnsubscribeLink by_unsubscribe_link = 103;
    ByConnectedInbox by_connected_inbox = 104;
    ByVerifiedEmail by_verified_email = 105;
    BySmsNumber by_sms_number = 106;
    ByWhatsAppNumber by_whatsapp_number = 107 [deprecated = true];
    ByWhatsApp by_whats_app = 108;
    ByModuleType by_module_type = 109;
  }

  // ByConnectedInbox - filter to list campaigns by the provided connected inbox
  message ByConnectedInbox {
    // connected inbox identifier
    int64 inbox_sid = 1 [jstype = JS_STRING];
  }

  // ByIds - filter to list campaigns by ids
  message ByIds {
    // campaign ids to search for
    repeated int64 campaign_sids = 1 [jstype = JS_STRING];
  }

  // ByProject - filter to list campaigns by project
  message ByProject {
    // project identifier
    int64 project_sid = 1 [jstype = JS_STRING];
  }

  // ByTime - filter to list running campaigns by scheduled_start_time
  message ByTime {
    // time to search from
    google.protobuf.Timestamp search_from = 1;
    // time to search to
    google.protobuf.Timestamp search_to = 2;
  }

  // ByUnsubscribeLink - filter to list campaigns using the provided unsubscribe link
  message ByUnsubscribeLink {
    // custom unsubscribe link identifier
    int64 link_sid = 1 [jstype = JS_STRING];
  }

  // ByVerifiedEmail - filter to list campaigns by the verified email
  message ByVerifiedEmail {
    // verified email identifier
    int64 email_sid = 1 [jstype = JS_STRING];
  }

  // BySmsNumber - filter the list of campaigns by the Sms Number
  message BySmsNumber {
    // sms number
    string number = 1;
  }

  // ByWhatsAppNumber - filter the list of campaigns by the Whatsapp Number
  message ByWhatsAppNumber {
    // whatsapp number
    string number = 1;
  }

  // ByWhatsApp - filter the list of campaigns by the Whatsapp
  message ByWhatsApp {
    // whatsapp number
    string number = 1;
  }

  // ByModuleType - filter the list of campaigns by the module type and channel type
  message ByModuleType {
    repeated api.commons.OmniCampaignModuleType module_type = 1;
    repeated api.commons.ChannelType channel_type = 2;
  }
}

// ListCampaignsRes - result of listing filtered campaigns
message ListCampaignsRes {
  // the listed campaigns
  repeated api.commons.OmniCampaign campaigns = 1;
  // associated modules
  repeated api.commons.OmniCampaignModule modules = 2;
}

// Request to get a campaign by it's id
message GetCampaignByIdReq {
  // the campaign id
  int64 campaign_sid = 1 [jstype = JS_STRING];
}

// Request to retrieve an off-loaded text message payload
message GetOffLoadedTextMessageReq {
  // Required. The off-loaded location of the text message payload;
  // this is generated by the omni service when creating
  // an OmniOffLoadedTextMessage payload for an OmniMessage.
  string location = 1;
}

// Result of retrieving an off-loaded text message payload
message GetOffLoadedTextMessageRes {
  // the text message, containing Urls.
  string message = 1;
}

message ManagerListMessagesReq {
  // TimeStamp
  google.protobuf.Timestamp timestamp = 2;
  // User_id
  string user_id = 3;
  // live flag
  bool live = 4;
  // channel type
  api.commons.ChannelType channel_type = 5;
  oneof filter {
    // select messages by the given conversation sid
    ByConversationSid by_conversation_sid = 101;
    // select message by the given task sid
    ByTaskSid by_task_sid = 102;
  }

  // filter used to get messages by conversation sid
  message ByConversationSid {
    // the conversation identifier
    int64 conversation_sid = 1 [jstype = JS_STRING];
  }

  // filter used to get messages by task sid
  message ByTaskSid {
    // the task identifier
    int64 task_sid = 1 [jstype = JS_STRING];
  }
}

message ListMessagesReq {
  // timestamp
  google.protobuf.Timestamp timestamp = 2;
  // live flag
  bool live = 5;
  // channel type
  api.commons.ChannelType channel_type = 6;
  oneof filter {
    // select messages by the given conversation sid
    ByConversationSid by_conversation_sid = 101;
  }

  message ByConversationSid {
    // the conversation identifier
    int64 conversation_sid = 1 [jstype = JS_STRING];
  }
}

message ChatMessageUserInformation {
  string user_id = 1;
  string name = 2;
}

message SendOmniMessageReq {
  // the id of the conversation this message belongs to
  int64 conversation_sid = 1 [jstype = JS_STRING];
  // the message
  api.commons.OmniMessagePayload payload = 3;
  // the id of the chat campaign
  int64 campaign_sid = 4 [jstype = JS_STRING];
  // a unique id created by the client to ensure it doesn't send the same message twice
  string ui_reference_id = 5;
  // channel type
  api.commons.ChannelType channel_type = 6;
}

// Request to update a campaign
message UpdateCampaignReq {
  // the campaign to update
  api.commons.OmniCampaign campaign = 1;
  // the identifier of the user who initiated the request
  string user_id = 2;
  // list of all fields being updated
  google.protobuf.FieldMask field_mask = 100;
}

// UpdateCampaignRes - result of updating a campaign
message UpdateCampaignRes {
  // the identifier for the ghost notification
  string notifier_id = 1;
}

// ListConversationsReq - request to get conversations
message ListConversationsReq {
  // the channel types to list conversations for
  repeated api.commons.ChannelType channel_types = 1;
  // field mask to filter what is returned by each row
  google.protobuf.FieldMask field_mask = 2;
  // list of conversation status that we want returned, if empty return everything.
  repeated api.commons.ConversationStatus statuses = 3;
  // the filter for determining what rows to pull
  oneof filter {
    // list conversations by time
    ByTime by_time = 100;
    // list conversations by assigned user
    ByAssignedUser by_assigned_user = 101;
  }

  // message filter to list conversations by time
  message ByTime {
    // start time for filtering conversations
    google.protobuf.Timestamp start_time = 1;
    // stop time for filtering conversations
    google.protobuf.Timestamp end_time = 2;
    // Optional. The number of listconversation to include in a single response. When not provided this defaults to 100.
    uint32 page_size = 4;
    //Optional. When provided all other request fields are ignored.
    string page_token = 5;
  }

  // message filter to list conversations by assigned user
  message ByAssignedUser {
    // the assigned user
    string user_id = 1;
    // the statuses of the conversations to retrieve, or empty if retrieving everything : deprecated because we moved to the main request.
    repeated api.commons.ConversationStatus statuses = 2 [deprecated = true];
    // Optional. The number of listconversation to include in a single response. When not provided this defaults to 100.
    uint32 page_size = 4;
    //Optional. When provided all other request fields are ignored.
    string page_token = 5;
  }
}

// ListConversationsRes - list of conversations satisfying the request parameters
message ListConversationsRes {
  // list of conversations for the dashboard
  repeated api.commons.OmniConversation conversations = 1;
  // Token to retrieve the next page of tasks, or empty if there are no more pages
  //Only returned if using the ByTime or ByAssignedUser filters
  string next_page_token = 2;
}

// CreateDispositionReq - request to create a disposition
message CreateDispositionReq {
  // the string of the disposition to create
  string disposition = 1;
}

// CreateDispositionRes - result of creating a disposition
message CreateDispositionRes {
  // the unique id of the created disposition
  int64 disposition_sid = 1 [jstype = JS_STRING];
}

// DeleteDispositionReq - request to delete a disposition
message DeleteDispositionReq {
  // the disposition to delete
  api.commons.Disposition disposition = 1;
}

// ListDispositionsReq - request to list dispositions
message ListDispositionsReq {}

// ListDispositionsRes - result to listing dispositions
message ListDispositionsRes {
  // the listed dispositions
  repeated api.commons.Disposition dispositions = 1;
}

// UpdateDispositionReq - request to update disposition
message UpdateDispositionReq {
  // the disposition identifier
  int64 disposition_sid = 1 [jstype = JS_STRING];
  // the updated disposition string
  string disposition = 2;
}

// ListCustomUnsubscribeLinksRes - result to listing custom unsubscribe links
message ListCustomUnsubscribeLinksRes {
  // the listed custom unsubscribe links
  repeated api.commons.OmniCustomUnsubscribeLink custom_unsubscribe_links = 1;
}

// CreateUnsubscribeLinkRes - result to creating unsubscribe link
message CreateCustomUnsubscribeLinkRes {
  // custom unsubscribe link sid
  int64 custom_unsubscribe_link_sid = 1 [jstype = JS_STRING];
  // validation of link url
  bool validated = 2;
}

// Request to update unsubscribe link details
message UpdateCustomUnsubscribeLinkReq {
  // custom unsubscribe link sid
  int64 custom_unsubscribe_link_sid = 1 [jstype = JS_STRING];
  // link name
  string link_name = 2;
  // link url
  string link_url = 3;
  // link description
  string description = 4;
}

// Response to update unsubscribe link details
message UpdateCustomUnsubscribeLinkRes {
  // validation of link url
  bool validated = 1;
  // when the url was last validated
  google.protobuf.Timestamp date_validated = 2;
}

// Request to delete unsubscribe link details
message DeleteCustomUnsubscribeLinkReq {
  // custom unsubscribe link sid
  int64 custom_unsubscribe_link_sid = 1 [jstype = JS_STRING];
}

// Request to pause a campaign
message PauseCampaignReq {
  // the campaign identifier
  int64 campaign_sid = 1 [jstype = JS_STRING];
  // the campaign's channel type
  api.commons.ChannelType channel_type = 2;
  // the campaign direction
  api.commons.OmniCampaignDirection campaign_direction = 3;
}

// Response to pause a campaign
message PauseCampaignRes {
  //send back ghost notifier referenceID
  string reference_id = 1;
}

// Request to resume a campaign
message ResumeCampaignReq {
  // the campaign identifier
  int64 campaign_sid = 1 [jstype = JS_STRING];
  // the campaign's channel type
  api.commons.ChannelType channel_type = 2;
  // the campaign direction
  api.commons.OmniCampaignDirection campaign_direction = 3;
}

// Response to resume a campaign
message ResumeCampaignRes {
  //send back ghost notifier referenceID
  string reference_id = 1;
}

// Request to archive a campaign
message ArchiveCampaignReq {
  // the campaign identifier
  int64 campaign_sid = 1 [jstype = JS_STRING];
  // the campaign's channel type
  api.commons.ChannelType channel_type = 2;
  // the campaign direction
  api.commons.OmniCampaignDirection campaign_direction = 3;
}

// Response to archive a campaign
message ArchiveCampaignRes {
  // send back ghost notifier referenceID
  string reference_id = 1;
}

// Request to update pacing speed for a campaign
// Pacing speed updates are possible only for outbound campaigns like Email|SMS (not for CHAT)
message UpdateCampaignPacingSpeedReq {
  // the campaign identifier
  int64 campaign_sid = 1 [jstype = JS_STRING];
  // the campaign's channel type
  api.commons.ChannelType channel_type = 2;
  // the campaign direction
  api.commons.OmniCampaignDirection campaign_direction = 3;
  // sends per hour
  int64 sends_per_hour = 4;
  //the campaignModules identifier
  int64 campaign_module_sid = 5 [jstype = JS_STRING];
}

// Response to update pacing speed for a campaign
message UpdateCampaignPacingSpeedRes {
  //send back ghost notifier referenceID
  string reference_id = 1;
}

// ListContactListsReq - request to list contact lists
message ListContactListsReq {
  // field mask to filter what is returned by each row
  google.protobuf.FieldMask field_mask = 2;
  // the filter to select by
  oneof filter {
    // select contact lists by project id
    ByProject by_project = 100;
  }

  // ByProject - filter to list campaigns by project
  message ByProject {
    // project identifier
    int64 project_sid = 1 [jstype = JS_STRING];
  }
}

// ListContactListsRes - result to listing contact lists
message ListContactListsRes {
  // the listed contact lists
  repeated api.commons.ContactList contact_lists = 1;
}

// GetAvailableHeadersReq - request to retrieve all available headers for contact lists
message GetAvailableHeadersReq {}

// GetAvailableHeadersRes - response containing all available contact list headers
message GetAvailableHeadersRes {
  // the available contact list headers
  repeated HeaderGroup headers = 1;
}

// GetOmniExchangeElementsRequest - request to retrieve all omni exchange elements for contact lists
message GetOmniExchangeElementsRequest {}

// GetOmniExchangeElementsResult
message GetOmniExchangeElementsResult {
  // the available contact list headers
  repeated OmniExchange headers = 1;
}
message OmniExchange {
  string exchange_id = 1;
  string name = 2;
}

// GetFieldsForElementRequest request to retrieve all fields for an omni exchange
message GetFieldsForElementRequest {
  OmniExchange exchange = 1;
}
message GetFieldsForElementResult {
  repeated Header headers = 1;
}

// Header - represents a header for a contact list
message Header {
  string name = 1;
  api.commons.FieldType type = 2;
}

// HeaderGroup - represents a group of headers for a contact list
message HeaderGroup {
  // the name of this group
  string name = 1;
  repeated string headers = 2 [deprecated = true];
  // the headers provided by this group
  repeated Header list_headers = 3;
}

message ApproveTaskRequest {
  int64 task_sid = 1 [jstype = JS_STRING];
}

message ApproveTaskResponse {}

message GetNextQueuedTaskRequest {
  api.commons.OmniConversationSkills skills = 1 [deprecated = true];
  map<string, int64> agent_skills = 2;
}

message GetNextQueuedTaskResponse {
  api.commons.OmniTask task = 1;
}

// GetTaskReq - request to retrieve a task
message GetTaskReq {
  // field mask for selecting optional details
  google.protobuf.FieldMask field_mask = 1;
  // the filter to use when retrieving a task
  oneof filter {
    ByConversation by_conversation = 100;
  }

  // ByConversation - retrieves the task the conversation was created from
  message ByConversation {
    // the conversation identifier
    int64 conversation_sid = 1 [jstype = JS_STRING];
  }
}

// ListTasksReq - request to list tasks
message ListTasksReq {
  // field mask for selecting optional details
  google.protobuf.FieldMask field_mask = 1;
  // the filter to use when retrieving tasks
  oneof filter {
    ByCampaign by_campaign = 100;
  }

  // ByCampaign - retrieve tasks for the specified campaign
  message ByCampaign {
    // Required. The campaign identifier.
    int64 campaign_sid = 1 [jstype = JS_STRING];
    // Optional. The number of tasks to include in a single response. When  not provided
    // this defaults to 100.
    uint32 page_size = 2;
    // Optional. The next_page_token returned from a previous List request, if any.
    // When provided all other request fields are ignored.
    string page_token = 3;
  }
}

// ListTasksRes - result of listing tasks
message ListTasksRes {
  // Token to retrieve the next page of tasks, or empty if there are
  // no more tasks in the list.
  string next_page_token = 1;
  // The list of tasks.
  repeated api.commons.OmniTask tasks = 2;
}

message RejectTaskRequest {
  int64 task_sid = 1 [jstype = JS_STRING];
}

message RejectTaskResponse {}

message RequeueTaskRequest {
  int64 task_sid = 1 [jstype = JS_STRING];
}

message RequeueTaskResponse {}

// CreateConnectedInboxRes - result of creating a new connected inbox
message CreateConnectedInboxRes {
  // the generated connected inbox identifier
  int64 connected_inbox_sid = 1 [jstype = JS_STRING];
}

// DeleteConnectedInboxBySidReq - request to delete a connected inbox
message DeleteConnectedInboxBySidReq {
  // connected inbox identifier
  int64 connected_inbox_sid = 1 [jstype = JS_STRING];
}

// GetConnectedInboxBySid - request to retrieve a connected inbox
message GetConnectedInboxBySidReq {
  // connected inbox identifier
  int64 connected_inbox_sid = 1 [jstype = JS_STRING];
}

// SendgridAccountByClientReq -
message SendgridAccountByClientReq {}

// SendgridAccountByClientRes -
message SendgridAccountByClientRes {
  // retult -
  bool result = 1;
}

// ListConnectedInboxesReq - request to list the connected inboxes for an organization
message ListConnectedInboxesReq {
  // what fields should be returned on the associated campaigns (if no field mask: no associated campaigns; if empty field mask, empty campaigns)
  google.protobuf.FieldMask field_mask = 1;
}

// ListConnectedInboxesRes - result to listing an organization's connected inboxes
message ListConnectedInboxesRes {
  // the listed connected inboxes
  repeated ListConnectedInbox connected_inboxes = 1;

  // ListConnectedInbox - a wrapper for a listed connected inbox containing the inbox and a list of it's associated campaigns
  message ListConnectedInbox {
    // the listed connected inbox
    api.commons.ConnectedInbox connected_inbox = 1;
    // the associated campaigns
    repeated api.commons.OmniCampaign campaigns = 2;
  }
}

// TestConnectedInboxRes - result of testing a connected inbox login
message TestConnectedInboxRes {
  // whether the test was a success
  bool success = 1;
  // test-specific details
  string details = 2;
}

// UpdateConnectedInboxReq - request to update a connected inbox
message UpdateConnectedInboxReq {
  // the connected inbox to update with the specified fields updated
  api.commons.ConnectedInbox connected_inbox = 1;
  // the fields to update
  google.protobuf.FieldMask field_mask = 2;
}

// creates verified email
message CreateVerifiedEmailRes {
  // generated identifier field
  int64 verified_email_sid = 1 [jstype = JS_STRING];
}

// request to send email notification
message SendEmailNotificationReq {
  // email subject
  string subject = 2;
  // data
  string data = 3;
  // email message
  string message = 4;
  // to email addresses
  repeated string to_email_address_arr = 5;
}

// response to email notification
message SendEmailNotificationRes {}

//request to delete verified email
// GetVerifiedEmailBySidReq -
message GetVerifiedEmailBySidReq {
  // verified_email_id
  int64 verified_email_sid = 1 [jstype = JS_STRING];
}

// DeleteVerifiedEmailReq - request to delete verified email
message DeleteVerifiedEmailReq {
  // verified email identifier
  int64 verified_email_sid = 1 [jstype = JS_STRING];
}

// request to list verified email
message ListVerifiedEmailsReq {}

// response to list verified email
message ListVerifiedEmailsRes {
  // list of verified emails
  repeated api.commons.VerifiedEmail verified_emails = 1;
}

//request to resend verified email
message ResendVerifiedEmailReq {
  // verified_email_sid
  int64 verified_email_sid = 1 [jstype = JS_STRING];
}

//response to resend verified email
message ResendVerifiedEmailRes {}

//request to update verified email description
message UpdateVerifiedEmailReq {
  int64 verified_email_sid = 1 [jstype = JS_STRING];
  string description = 2;
}

// GetPendingGoogleXOAuth2DataReq - request to get pending GoogleXOAuth2 data
message GetPendingGoogleXOAuth2DataReq {
  // token identifying the GoogleXOAuth2 data
  string identification_token = 1;
}

// GetPendingGoogleXOAuth2DataRes - result of getting pending GoogleXOAuth2 data
message GetPendingGoogleXOAuth2DataRes {
  // the GoogleXOAuth2 email address
  string email_address = 1;
}

// request to send feedback notifications
message SendFeedbackEmailReq {
  // from email address
  string from_email = 1;
  //email description
  string description = 2;
  // session id
  string session_id = 3;
  // email screenshot
  string screenshot = 4;
}

// response to send feedback notifications
message SendFeedbackEmailRes {}

// request to get attachment details
message GetOmniAttachmentReq {
  // flag to include attachment download url or not
  bool include_download_url = 1;
  // the filter to select by
  oneof filter {
    // filter by attachment sid
    ByOmniAttachmentSid by_omni_attachment_sid = 100;
  }
  // ByOmniAttachmentSid - filter to get attachment details by sid
  message ByOmniAttachmentSid {
    // the attachment file identifier
    int64 omni_attachment_sid = 1 [jstype = JS_STRING];
  }
}

// CreateTasksReq - create tasks per a contact list
message CreateTasksReq {
  // campaign identifier
  int64 campaign_sid = 1 [jstype = JS_STRING];
  // campaign module identifier
  int64 campaign_module_sid = 2 [jstype = JS_STRING];
  // what data to use when creating tasks
  oneof data_source {
    ContactListDataSource contact_list_data_source = 100;
  }
}

// CreateTasksRes -
message CreateTasksRes {
  // ghost notifier reference identifier
  string reference_id = 1;
}

// CreateSignatureReq - request to create a new message signature
message CreateSignatureReq {
  // the signature text to create
  string signature = 1;
  // the name for the signature
  string name = 2;
  // the description for the signature
  string description = 3;
}

// CreateSignatureRes - the result of creating a new signature
message CreateSignatureRes {
  // the created signature object
  api.commons.Signature signature = 1;
}

// DeleteSignatureReq - request to delete message signature
message DeleteSignatureReq {
  // identifier of the signature to delete
  int64 signature_sid = 1 [jstype = JS_STRING];
}

// DeleteSignatureReq - result of deleting message signature
message DeleteSignatureRes {}

// ListSignaturesReq - request to list message signatures
message ListSignaturesReq {}

// ListSignaturesRes - result of listing message signatures
message ListSignaturesRes {
  // the message signatures created by the organization
  repeated api.commons.Signature signatures = 1;
}

// UpdateSignatureReq - request to update a message signature
message UpdateSignatureReq {
  // the signature details to update
  api.commons.Signature signature = 1;
  // the field mask to update with
  google.protobuf.FieldMask field_mask = 2;
}

// UpdateSignatureRes - response to updating a message signature
message UpdateSignatureRes {
  // the updated signature
  api.commons.Signature signature = 1;
}

// CreateProjectReq -
message CreateProjectReq {
  // project name
  string name = 1;
  // project description
  string description = 2;
  // compliance configuration
  api.commons.OmniProjectComplianceConfig compliance_config = 3;
}

// CreateProjectRes -
message CreateProjectRes {
  // the created project
  Project project = 1;
  // the ghost notifier id
  string reference_id = 2;
}

// Project -
message Project {
  // project identifier
  int64 project_sid = 1 [jstype = JS_STRING];
  // project name
  string name = 2;
  // project description
  string description = 3;
  // project status
  api.commons.ProjectStatus status = 4;
  // creation date
  google.protobuf.Timestamp date_created = 5;
  // compliance configuration
  api.commons.OmniProjectComplianceConfig compliance_config = 6;
}

// request used to get a list of projects
message ListProjectsReq {}

// response holding the list of projects
message ListProjectsRes {
  // the list of projects
  repeated Project projects = 1;
}

//request to update omni project details by project id
message EditProjectByIdReq {
  //project
  Project project = 1;
  //field mask
  google.protobuf.FieldMask field_mask = 2;
}

// EditProjectByIdRes - result of editing a project
message EditProjectByIdRes {
  // the created project
  Project project = 1;
  // the ghost notifier id
  string reference_id = 2;
}

// request to closing an omni project project id
message CloseProjectByIdReq {
  // project id
  int64 project_sid = 1 [jstype = JS_STRING];
}

// response to closing an omni project project id
message CloseProjectByIdRes {}

//request to get omni project details by project id
message GetProjectByIdReq {
  // project id
  int64 project_sid = 1 [jstype = JS_STRING];
}

//request to create canned message
message CreateCannedMessageReq {
  // canned message name
  string name = 1;
  // description
  string description = 2;
  // message details
  string message_body = 3;
  // canned message group id
  string canned_message_group_id = 4;
  // allows html
  bool allows_html = 5;
  // attachments
  repeated api.commons.OmniAttachment attachments = 6;
}

//canned message creation details
message CannedMessage {
  // result of generated canned_message_id
  string canned_message_id = 1;
  /// canned message name
  string name = 2;
  // description
  string description = 3;
  // message details
  string message_body = 4;
  // creation date
  google.protobuf.Timestamp date_created = 5;
  // last updated date
  google.protobuf.Timestamp last_updated = 6;
  // canned message group id
  string canned_message_group_id = 7;
  // allows html
  bool allows_html = 8;
  // attachments
  repeated api.commons.OmniAttachment attachments = 9;
}

// request used to get a list of CannedMessages
message ListCannedMessagesReq {}

// response holding the list of CannedMessages with group details
message ListCannedMessagesRes {
  // the list of cannedMessages with group details
  repeated CannedMessageWithGroup canned_messages_with_group = 1;
}

//request to update canned message details
message UpdateCannedMessageReq {
  // canned_message_id
  string canned_message_id = 1;
  // canned message name
  string name = 2;
  // description
  string description = 3;
  // message details
  string message_body = 4;
  // canned message group id
  string canned_message_group_id = 5;
  // allows html
  bool allows_html = 6;
  // attachments
  repeated api.commons.OmniAttachment attachments = 7;
}

//request to get canned message by id
message GetCannedMessageByIdReq {
  // canned_message_id
  string canned_message_id = 1;
}

//request to delete canned message by id
message DeleteCannedMessageByIdReq {
  // canned_message_id
  string canned_message_id = 1;
}

//response to delete canned message by id
message DeleteCannedMessageByIdRes {
  bool Result = 1;
}

// request to create canned message group
message CreateCannedMessageGroupReq {
  // canned message name
  string name = 1;
  // description
  string description = 2;
}

//canned message group creation details
message CannedMessageGroup {
  // result of generated canned_message_group_id
  string canned_message_group_id = 1;
  // canned message group name
  string name = 2;
  // description
  string description = 3;
  // creation date
  google.protobuf.Timestamp date_created = 4;
  // last updated date
  google.protobuf.Timestamp last_updated = 5;
}

//canned message with group details
message CannedMessageWithGroup {
  // result of generated canned_message_id
  string canned_message_id = 1;
  /// canned message name
  string name = 2;
  // description
  string description = 3;
  // message details
  string message_body = 4;
  // creation date
  google.protobuf.Timestamp date_created = 5;
  // last updated date
  google.protobuf.Timestamp last_updated = 6;
  // canned message group id
  string canned_message_group_id = 7;
  // canned message group name
  string group_name = 8;
  // group description
  string group_description = 9;
  // group creation date
  google.protobuf.Timestamp group_date_created = 10;
  // group last updated date
  google.protobuf.Timestamp group_last_updated = 11;
  // allows html
  bool allows_html = 12;
  // attachments
  repeated api.commons.OmniAttachment attachments = 13;
}

// request used to get a list of CannedMessageGroups
message ListCannedMessageGroupsReq {}

// response holding the list of CannedMessageGroups
message ListCannedMessageGroupsRes {
  // list of cannedMessageGroups
  repeated CannedMessageGroup canned_message_groups = 1;
}

//request to update canned message group details
message UpdateCannedMessageGroupReq {
  // canned_message_group_id
  string canned_message_group_id = 1;
  // canned message group name
  string name = 2;
  // group description
  string description = 3;
}

//response to update canned message group details
message UpdateCannedMessageGroupRes {}

//request to delete canned message group
message DeleteCannedMessageGroupReq {
  // canned_message_group_id
  string canned_message_group_id = 1;
}

//response to delete canned message group
message DeleteCannedMessageGroupRes {}

// request used to get a list of CannedMessages for the group
message ListCannedMessagesByGroupIdReq {
  // canned_message_group_id
  string canned_message_group_id = 1;
}

// response holding the list of CannedMessages with group details for the group
message ListCannedMessagesByGroupIdRes {
  // the list of cannedMessages with group details
  repeated CannedMessageWithGroup canned_messages_with_group = 1;
}

//request to get canned message group details by id
message GetCannedMessageGroupByIdReq {
  // canned_message_group_id
  string canned_message_group_id = 1;
}

// request to list user skills
message ListUserSkillsReq {
  // Filters the response to only contain skills with the
  // given types. Leaving this field empty will return
  // all skill types. The PBX SkillType is not
  // supported and will cause an error if present.
  // Should use AGENT_PBX or HUNT_GROUP_PBX.
  repeated api.commons.SkillType.Enum type_filters = 1;
}

// respose to list users skills
message ListUserSkillsRes {
  repeated OmniSkill skills = 1;
}

// skill details
message OmniSkill {
  // region
  string region = 1;
  // p3 id
  string p3_id = 2;
  // skill name
  string name = 3;
  // skill description
  string description = 4;
  api.commons.SkillType.Enum type = 5;
}

// Request message for listing whatsapp numbers
message ListWhatsAppNumbersReq {}

// Response message for listing whatsapp numbers
message ListWhatsAppNumbersRes {
  // list of whatsapp numbers
  repeated api.commons.WhatsAppNumber whatsapp_numbers = 1;
}

// Request message for create whatsapp number
message CreateWhatsAppNumberRequest {
  // whatsapp number details
  api.commons.WhatsAppNumber whatsapp_number = 1;
}

// Response message for listing whatsapp number
message CreateWhatsAppNumberResponse {
  // whatsapp number details
  api.commons.WhatsAppNumber whatsapp_number = 1;
}

// Request message for update whatsapp number
message UpdateWhatsAppNumberRequest {
  // whatsapp number details
  api.commons.WhatsAppNumber whatsapp_number = 1;
  // list of all fields being updated
  google.protobuf.FieldMask field_mask = 2;
}

// Response message for update whatsapp number
message UpdateWhatsAppNumberResponse {
  // whatsapp number details
  api.commons.WhatsAppNumber whatsapp_number = 1;
}

// CreateManualTaskReq - create a manual task
message CreateManualTaskReq {
  // campaign identifier
  int64 campaign_sid = 1 [jstype = JS_STRING];
  // campaign module identifier
  int64 campaign_module_sid = 2 [jstype = JS_STRING];
  // task data
  api.commons.OmniTask task_data = 3;
}

// CreateManualTaskRes -
message CreateManualTaskRes {
  // ghost notifier reference identifier
  string reference_id = 1;
}
